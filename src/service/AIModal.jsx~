import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMENIN_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


    export const chatSession = model.startChat({
        generationConfig,
        history: [
            {
                role: "user",
                parts: [
                    {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
                ],
            },
            {
                role: "model",
                parts: [
                    {text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and detailed daily plans, all in JSON format:\n\njson\n{\n  \"location\": \"Las Vegas, Nevada\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/1f/82/6a/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1398,\n        \"longitude\": -115.1634\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas experience with affordable rooms, a large casino, and the Adventuredome indoor theme park.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/a2/4a/11/exterior-main-view.jpg?w=700&h=-1&s=1\",\n       \"geoCoordinates\": {\n        \"latitude\": 36.0982,\n        \"longitude\": -115.1730\n      },\n      \"rating\": 3.8,\n      \"description\": \"A castle-themed hotel with affordable rates, a variety of dining options, and a lively atmosphere.\"\n    },\n     {\n      \"hotelName\": \"Strat Hotel, Casino, and Skypod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$45 - $85 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/9f/a0/4a/strat-hotel-casino-skypod.jpg?w=700&h=-1&s=1\",\n       \"geoCoordinates\": {\n        \"latitude\": 36.1471,\n        \"longitude\": -115.1540\n       },\n      \"rating\": 3.9,\n      \"description\": \"Offers great views from the observation deck and budget-friendly rooms located towards the north end of the strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip on Foot\",\n      \"bestTimeToVisit\": \"Late afternoon/Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n           \"placeDetails\": \"An iconic sign and a must-see for first-timers. Take photos and enjoy the classic Vegas vibe.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Welcome_to_Fabulous_Las_Vegas_sign.JPG/1200px-Welcome_to_Fabulous_Las_Vegas_sign.JPG\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1725\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.5,\n          \"travelTime\": \"Depends on hotel location, 10-20 minutes from central strip hotels\"\n        },\n         {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays that are free to view. A beautiful place to wander and take photos.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/conservatory/2024/spring/2024-spring-conservatory-image-1-1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1740\n          },\n           \"ticketPricing\": \"Free\",\n           \"rating\": 4.7,\n          \"travelTime\": \"15-20 minutes walking from the Welcome Sign\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"A mesmerizing water show with music. Best viewed in the evening, every 30 mins to 15 mins.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/53e25994f5b62965354ca253/master/w_1920%2Cc_limit/bellagio-las-vegas-fountains-alamy.jpg\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1124,\n             \"longitude\": -115.1735\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.8,\n          \"travelTime\": \"Within the Bellagio area\"\n        },\n          {\n          \"placeName\": \"High Roller Observation Wheel at The LINQ Promenade\",\n          \"placeDetails\": \" Enjoy panoramic views of the city from the world's tallest observation wheel (optional and for a reduced price at night).\",\n           \"placeImageUrl\": \"https://www.caesars.com/content/dam/clv/Property/LINQ/things-to-do/attractions/linq-high-roller-hero-desktop.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1174,\n             \"longitude\": -115.1694\n           },\n           \"ticketPricing\": \"$25 (Day) or $35 (Night) , look for discounts\",\n           \"rating\": 4.6,\n           \"travelTime\":\"15 minutes walk from Bellagio area\"\n          }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown and Fremont Experience\",\n       \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive LED canopy, offering free light shows, live music, and street performers.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5a83e519121c40175d8ff205/16:9/w_2560%2Cc_limit/Fremont-Street_GettyImages-821456280.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1694,\n            \"longitude\": -115.1401\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.6,\n          \"travelTime\": \"30 minutes drive or via bus from the Strip (use RTC transit)\"\n        },\n         {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"A unique outdoor shopping and entertainment area made from shipping containers.\",\n           \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/15/27/10/90/container-park.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1668,\n            \"longitude\": -115.1401\n           },\n           \"ticketPricing\": \"Free (charges for activities and dining)\",\n          \"rating\": 4.3,\n           \"travelTime\": \"5 minutes walk from Fremont Street\"\n        },\n         {\n          \"placeName\": \"Mob Museum\",\n           \"placeDetails\":\"Learn about the history of organized crime, with interactive exhibits. (Optional, if budget allows and interest is there)\",\n           \"placeImageUrl\":\"https://media-cdn.tripadvisor.com/media/photo-o/11/1a/19/42/mob-museum.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\":36.1691,\n             \"longitude\": -115.1442\n            },\n           \"ticketPricing\": \"$30\",\n            \"rating\":4.5,\n           \"travelTime\": \"5 minutes walk from Fremont Street\"\n          }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Relaxation and Scenic Views\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Stunning desert landscapes with hiking trails. Ideal for escaping the city and experiencing nature. (consider bus options for a cheaper travel)\",\n           \"placeImageUrl\":\"https://www.blm.gov/sites/blm.gov/files/styles/1920x1080/public/images/RedRock_NCA_LasVegas_3_web.jpg?itok=V8E_773y\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1462,\n              \"longitude\": -115.4153\n            },\n          \"ticketPricing\": \"$15 per vehicle entry\",\n          \"rating\": 4.8,\n          \"travelTime\": \"20-30 minutes drive from the Strip (consider car rental for 1 day or bus option)\"\n\n        },\n        {\n          \"placeName\":\"The Venetian Canal\",\n          \"placeDetails\":\"Experience the charm of Venice with a gondola ride or explore the grand interiors of the hotel (free to walk around)\",\n           \"placeImageUrl\":\"https://img.static-affiliate.com/1728/336/las-vegas-nevada/the-venetian-resort-hotel-casino/0.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1202,\n            \"longitude\":-115.1698\n            },\n           \"ticketPricing\": \"Gondola Ride - $30 to $40, Free to explore the hotel\",\n           \"rating\": 4.6,\n          \"travelTime\": \"30 minutes drive from Red Rock Canyon or 10 minutes drive from the central strip\"\n        },\n         {\n          \"placeName\": \"Ethel M Chocolate Factory and Botanical Cactus Garden\",\n           \"placeDetails\": \"Free chocolate samples and a beautiful cactus garden to walk around. A good place to spend some time before heading back\",\n           \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/17/6c/9c/01/ethel-m-chocolate-factory.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.0637,\n             \"longitude\":-115.0685\n              },\n           \"ticketPricing\":\"Free\",\n           \"rating\":4.4,\n           \"travelTime\": \"10 - 15 minutes drive from strip or Venetian area\"\n\n        }\n      ]\n    }\n  }\n}\n\n*Important Notes:\n\n   *Prices:* Hotel and ticket prices are estimates and can vary based on season, demand, and booking time. Check the latest prices before booking.\n*   *Transportation:* The itinerary utilizes walking, buses (RTC), and possibly ride-sharing or a 1-day car rental (for Red Rock Canyon). Consider purchasing a bus pass for cost-effective travel.\n*   *Food:* Budget-friendly dining options include grabbing quick bites from fast-food chains, food courts, and grocery stores instead of dining at pricey restaurants. Take advantage of free water and ice provided at most hotels.\n*   *Discounts:* Look for discounts on attractions and shows through websites like Groupon, or the hotel's official website\n*  *Flexibility:* Feel free to adjust the itinerary to your interests. This is just a suggestion to make your travel to Vegas easier.\n\nEnjoy your budget-friendly trip to Las Vegas!\n"},
                ],
            },
        ],
    });




